{% extends "admin/base.html" %}

{% block title %}Settings{% endblock %}

{% block content %}
<div x-data="settings()" x-init="init()" class="space-y-6">
    <!-- Header Section -->
    <div class="bg-white dark:bg-gray-800 rounded-2xl border border-gray-200 dark:border-gray-700 p-6">
        <div class="flex items-center gap-3 mb-2">
            <div class="w-10 h-10 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-lg flex items-center justify-center">
                <svg class="w-5 h-5 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z" />
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z" />
                </svg>
            </div>
            <div>
                <h1 class="text-2xl font-bold text-gray-900 dark:text-white">Settings & Preferences</h1>
                <p class="text-gray-600 dark:text-gray-400 mt-1">Configure your storefront, notifications, and integrations</p>
            </div>
        </div>
    </div>

    <form method="POST" action="#" class="space-y-6">
        <!-- Storefront Settings -->
        <div class="bg-white dark:bg-gray-800 rounded-2xl border border-gray-200 dark:border-gray-700 overflow-hidden">
            <div class="border-b border-gray-200 dark:border-gray-700 p-6">
                <h3 class="text-lg font-semibold text-gray-900 dark:text-white">Storefront Details</h3>
                <p class="text-gray-600 dark:text-gray-400 text-sm mt-1">Basic information about your digital store</p>
            </div>
            <div class="p-6 space-y-6">
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <div>
                        <label for="store_name" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Store Name</label>
                        <input type="text" id="store_name" name="store_name" value="Amina's Digital Creations" 
                               class="w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500">
                        <p class="mt-1 text-xs text-gray-500 dark:text-gray-400">This appears as the main title on your storefront</p>
                    </div>
                    <div>
                        <label for="store_url" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Store URL</label>
                        <input type="text" id="store_url" name="store_url" value="amina-creations.example.com" 
                               class="w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500">
                        <p class="mt-1 text-xs text-gray-500 dark:text-gray-400">Your custom store domain or subdomain</p>
                    </div>
                </div>
                
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <div>
                        <label for="default_currency" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Default Currency</label>
                        <select id="default_currency" name="default_currency" 
                                class="w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500">
                            <option value="USD" selected>US Dollar (USD)</option>
                            <option value="EUR">Euro (EUR)</option>
                            <option value="GBP">British Pound (GBP)</option>
                            <option value="KES">Kenyan Shilling (KES)</option>
                            <option value="TZS">Tanzanian Shilling (TZS)</option>
                            <option value="UGX">Ugandan Shilling (UGX)</option>
                        </select>
                    </div>
                    <div>
                        <label for="timezone" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Timezone</label>
                        <select id="timezone" name="timezone" 
                                class="w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500">
                            <option value="UTC">UTC</option>
                            <option value="Africa/Nairobi" selected>East Africa Time (Nairobi)</option>
                            <option value="Africa/Dar_es_Salaam">East Africa Time (Dar es Salaam)</option>
                            <option value="Africa/Kampala">East Africa Time (Kampala)</option>
                        </select>
                    </div>
                </div>

                <div>
                    <label for="store_description" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Store Description</label>
                    <textarea id="store_description" name="store_description" rows="3" 
                              class="w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"
                              placeholder="Brief description of your store and what you offer...">High-quality digital products and courses for creative professionals</textarea>
                    <p class="mt-1 text-xs text-gray-500 dark:text-gray-400">This appears in search results and social media previews</p>
                </div>
            </div>
        </div>

        <!-- Appearance Settings -->
        <div class="bg-white dark:bg-gray-800 rounded-2xl border border-gray-200 dark:border-gray-700 overflow-hidden">
            <div class="border-b border-gray-200 dark:border-gray-700 p-6">
                <h3 class="text-lg font-semibold text-gray-900 dark:text-white">Appearance & Interface</h3>
                <p class="text-gray-600 dark:text-gray-400 text-sm mt-1">Customize the look and feel of your admin panel</p>
            </div>
            <div class="p-6 space-y-6">
                <div>
                    <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3">Admin Theme</label>
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                        <button type="button" @click="setTheme('light')" 
                                :class="theme === 'light' ? 'ring-2 ring-indigo-500 border-indigo-500' : 'border-gray-300 dark:border-gray-600'"
                                class="p-4 border rounded-xl bg-white text-gray-900 transition-all text-center">
                            <div class="w-8 h-8 bg-yellow-400 rounded-full mx-auto mb-2"></div>
                            <span class="font-medium">Light</span>
                        </button>
                        <button type="button" @click="setTheme('dark')" 
                                :class="theme === 'dark' ? 'ring-2 ring-indigo-500 border-indigo-500' : 'border-gray-300 dark:border-gray-600'"
                                class="p-4 border rounded-xl bg-gray-800 text-white transition-all text-center">
                            <div class="w-8 h-8 bg-purple-500 rounded-full mx-auto mb-2"></div>
                            <span class="font-medium">Dark</span>
                        </button>
                        <button type="button" @click="setTheme('system')" 
                                :class="theme === 'system' ? 'ring-2 ring-indigo-500 border-indigo-500' : 'border-gray-300 dark:border-gray-600'"
                                class="p-4 border rounded-xl bg-gradient-to-r from-white to-gray-800 text-gray-900 dark:text-white transition-all text-center">
                            <div class="w-8 h-8 bg-gradient-to-r from-yellow-400 to-purple-500 rounded-full mx-auto mb-2"></div>
                            <span class="font-medium">System</span>
                        </button>
                    </div>
                </div>

                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <div>
                        <label for="language" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Language</label>
                        <select id="language" name="language" 
                                class="w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500">
                            <option value="en" selected>English</option>
                            <option value="sw">Swahili</option>
                            <option value="fr">French</option>
                            <option value="es">Spanish</option>
                        </select>
                    </div>
                    <div>
                        <label for="date_format" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Date Format</label>
                        <select id="date_format" name="date_format" 
                                class="w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500">
                            <option value="MM/DD/YYYY">MM/DD/YYYY</option>
                            <option value="DD/MM/YYYY">DD/MM/YYYY</option>
                            <option value="YYYY-MM-DD">YYYY-MM-DD</option>
                        </select>
                    </div>
                </div>

                <div class="flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-700/50 rounded-lg">
                    <div>
                        <label for="compact_mode" class="text-sm font-medium text-gray-700 dark:text-gray-300">Compact Mode</label>
                        <p class="text-xs text-gray-500 dark:text-gray-400">Show more content with less spacing</p>
                    </div>
                    <input type="checkbox" id="compact_mode" name="compact_mode" class="w-4 h-4 text-indigo-600 bg-gray-100 border-gray-300 rounded focus:ring-indigo-500 dark:focus:ring-indigo-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600">
                </div>
            </div>
        </div>

        <!-- Notification Settings -->
        <div class="bg-white dark:bg-gray-800 rounded-2xl border border-gray-200 dark:border-gray-700 overflow-hidden">
            <div class="border-b border-gray-200 dark:border-gray-700 p-6">
                <h3 class="text-lg font-semibold text-gray-900 dark:text-white">Notification Settings</h3>
                <p class="text-gray-600 dark:text-gray-400 text-sm mt-1">Configure how you receive alerts and updates</p>
            </div>
            <div class="p-6 space-y-6">
                <!-- Email Notifications -->
                <div class="border border-gray-200 dark:border-gray-700 rounded-xl p-6">
                    <div class="flex items-center justify-between mb-4">
                        <div class="flex items-center gap-3">
                            <div class="w-10 h-10 bg-blue-100 dark:bg-blue-900/30 rounded-lg flex items-center justify-center">
                                <svg class="w-5 h-5 text-blue-600 dark:text-blue-400" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z" />
                                </svg>
                            </div>
                            <div>
                                <h4 class="font-semibold text-gray-900 dark:text-white">Email Notifications</h4>
                                <p class="text-sm text-gray-600 dark:text-gray-400">Receive updates via email</p>
                            </div>
                        </div>
                        <input type="checkbox" id="email_enabled" name="email_enabled" checked class="w-4 h-4 text-indigo-600 bg-gray-100 border-gray-300 rounded focus:ring-indigo-500 dark:focus:ring-indigo-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600">
                    </div>
                    <div class="space-y-3 pl-13">
                        <div class="flex items-center justify-between">
                            <label for="email_sales" class="text-sm text-gray-700 dark:text-gray-300">New Sales</label>
                            <input type="checkbox" id="email_sales" name="email_sales" checked class="w-4 h-4 text-indigo-600 bg-gray-100 border-gray-300 rounded focus:ring-indigo-500 dark:focus:ring-indigo-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600">
                        </div>
                        <div class="flex items-center justify-between">
                            <label for="email_supporters" class="text-sm text-gray-700 dark:text-gray-300">New Supporters</label>
                            <input type="checkbox" id="email_supporters" name="email_supporters" checked class="w-4 h-4 text-indigo-600 bg-gray-100 border-gray-300 rounded focus:ring-indigo-500 dark:focus:ring-indigo-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600">
                        </div>
                        <div class="flex items-center justify-between">
                            <label for="email_reviews" class="text-sm text-gray-700 dark:text-gray-300">New Reviews</label>
                            <input type="checkbox" id="email_reviews" name="email_reviews" class="w-4 h-4 text-indigo-600 bg-gray-100 border-gray-300 rounded focus:ring-indigo-500 dark:focus:ring-indigo-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600">
                        </div>
                    </div>
                </div>

                <!-- SMS Notifications -->
                <div class="border border-gray-200 dark:border-gray-700 rounded-xl p-6">
                    <div class="flex items-center justify-between mb-4">
                        <div class="flex items-center gap-3">
                            <div class="w-10 h-10 bg-green-100 dark:bg-green-900/30 rounded-lg flex items-center justify-center">
                                <svg class="w-5 h-5 text-green-600 dark:text-green-400" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-5l-5 5v-5z" />
                                </svg>
                            </div>
                            <div>
                                <h4 class="font-semibold text-gray-900 dark:text-white">SMS Notifications</h4>
                                <p class="text-sm text-gray-600 dark:text-gray-400">Receive urgent alerts via SMS</p>
                            </div>
                        </div>
                        <input type="checkbox" id="sms_enabled" name="sms_enabled" class="w-4 h-4 text-indigo-600 bg-gray-100 border-gray-300 rounded focus:ring-indigo-500 dark:focus:ring-indigo-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600">
                    </div>
                    <div class="space-y-4 pl-13">
                        <div>
                            <label for="sms_phone" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Phone Number</label>
                            <input type="tel" id="sms_phone" name="sms_phone" placeholder="+255 123 456 789" 
                                   class="w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500">
                        </div>
                        <div class="flex items-center justify-between">
                            <label for="sms_urgent" class="text-sm text-gray-700 dark:text-gray-300">Urgent Sales Only</label>
                            <input type="checkbox" id="sms_urgent" name="sms_urgent" class="w-4 h-4 text-indigo-600 bg-gray-100 border-gray-300 rounded focus:ring-indigo-500 dark:focus:ring-indigo-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600">
                        </div>
                    </div>
                </div>

                <!-- WhatsApp Notifications -->
                <div class="border border-gray-200 dark:border-gray-700 rounded-xl p-6">
                    <div class="flex items-center justify-between mb-4">
                        <div class="flex items-center gap-3">
                            <div class="w-10 h-10 bg-green-100 dark:bg-green-900/30 rounded-lg flex items-center justify-center">
                                <svg class="w-5 h-5 text-green-600 dark:text-green-400" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z" />
                                </svg>
                            </div>
                            <div>
                                <h4 class="font-semibold text-gray-900 dark:text-white">WhatsApp Notifications</h4>
                                <p class="text-sm text-gray-600 dark:text-gray-400">Get instant updates on WhatsApp</p>
                            </div>
                        </div>
                        <input type="checkbox" id="whatsapp_enabled" name="whatsapp_enabled" class="w-4 h-4 text-indigo-600 bg-gray-100 border-gray-300 rounded focus:ring-indigo-500 dark:focus:ring-indigo-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600">
                    </div>
                    <div class="space-y-4 pl-13">
                        <div>
                            <label for="whatsapp_number" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">WhatsApp Number</label>
                            <input type="tel" id="whatsapp_number" name="whatsapp_number" placeholder="+255 123 456 789" 
                                   class="w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500">
                        </div>
                        <div class="space-y-2">
                            <div class="flex items-center justify-between">
                                <label for="whatsapp_sales" class="text-sm text-gray-700 dark:text-gray-300">New Sales</label>
                                <input type="checkbox" id="whatsapp_sales" name="whatsapp_sales" class="w-4 h-4 text-indigo-600 bg-gray-100 border-gray-300 rounded focus:ring-indigo-500 dark:focus:ring-indigo-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600">
                            </div>
                            <div class="flex items-center justify-between">
                                <label for="whatsapp_support" class="text-sm text-gray-700 dark:text-gray-300">Support Requests</label>
                                <input type="checkbox" id="whatsapp_support" name="whatsapp_support" class="w-4 h-4 text-indigo-600 bg-gray-100 border-gray-300 rounded focus:ring-indigo-500 dark:focus:ring-indigo-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600">
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- AI Integration (Groq) -->
        <div class="bg-white dark:bg-gray-800 rounded-2xl border border-gray-200 dark:border-gray-700 overflow-hidden">
            <div class="border-b border-gray-200 dark:border-gray-700 p-6">
                <h3 class="text-lg font-semibold text-gray-900 dark:text-white">AI Integration</h3>
                <p class="text-gray-600 dark:text-gray-400 text-sm mt-1">Configure Groq LLM for AI-powered features</p>
            </div>
            <div class="p-6 space-y-6">
                <div class="flex items-center justify-between p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg border border-blue-200 dark:border-blue-800">
                    <div class="flex items-center gap-3">
                        <div class="w-8 h-8 bg-blue-100 dark:bg-blue-800 rounded-full flex items-center justify-center">
                            <svg class="w-4 h-4 text-blue-600 dark:text-blue-400" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z" />
                            </svg>
                        </div>
                        <div>
                            <p class="font-medium text-blue-800 dark:text-blue-300">AI Features</p>
                            <p class="text-sm text-blue-600 dark:text-blue-400">Enable AI-powered content suggestions and automation</p>
                        </div>
                    </div>
                    <input type="checkbox" id="ai_enabled" name="ai_enabled" class="w-4 h-4 text-indigo-600 bg-gray-100 border-gray-300 rounded focus:ring-indigo-500 dark:focus:ring-indigo-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600">
                </div>

                <div x-show="$el.querySelector('#ai_enabled').checked" class="space-y-4">
                    <div>
                        <label for="groq_api_key" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Groq API Key</label>
                        <input type="password" id="groq_api_key" name="groq_api_key" placeholder="gsk_xxxxxxxxxxxxxxxx" 
                               class="w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500">
                        <p class="mt-1 text-xs text-gray-500 dark:text-gray-400">Get your API key from <a href="https://console.groq.com" class="text-indigo-600 hover:text-indigo-500">Groq Console</a></p>
                    </div>

                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <div>
                            <label for="ai_model" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">AI Model</label>
                            <select id="ai_model" name="ai_model" 
                                    class="w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500">
                                <option value="llama3-8b-8192">Llama 3 8B</option>
                                <option value="llama3-70b-8192">Llama 3 70B</option>
                                <option value="mixtral-8x7b-32768">Mixtral 8x7B</option>
                                <option value="gemma-7b-it">Gemma 7B</option>
                            </select>
                        </div>
                        <div>
                            <label for="ai_temperature" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Creativity Level</label>
                            <input type="range" id="ai_temperature" name="ai_temperature" min="0" max="1" step="0.1" value="0.7" 
                                   class="w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer dark:bg-gray-700">
                            <div class="flex justify-between text-xs text-gray-500 dark:text-gray-400 mt-1">
                                <span>Precise</span>
                                <span>Balanced</span>
                                <span>Creative</span>
                            </div>
                        </div>
                    </div>

                    <div class="space-y-3">
                        <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">AI Features</label>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                            <div class="flex items-center gap-3 p-3 border border-gray-200 dark:border-gray-700 rounded-lg">
                                <input type="checkbox" id="ai_content_suggestions" name="ai_content_suggestions" checked class="w-4 h-4 text-indigo-600 bg-gray-100 border-gray-300 rounded focus:ring-indigo-500 dark:focus:ring-indigo-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600">
                                <label for="ai_content_suggestions" class="text-sm text-gray-700 dark:text-gray-300">Content Suggestions</label>
                            </div>
                            <div class="flex items-center gap-3 p-3 border border-gray-200 dark:border-gray-700 rounded-lg">
                                <input type="checkbox" id="ai_seo_optimization" name="ai_seo_optimization" checked class="w-4 h-4 text-indigo-600 bg-gray-100 border-gray-300 rounded focus:ring-indigo-500 dark:focus:ring-indigo-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600">
                                <label for="ai_seo_optimization" class="text-sm text-gray-700 dark:text-gray-300">SEO Optimization</label>
                            </div>
                            <div class="flex items-center gap-3 p-3 border border-gray-200 dark:border-gray-700 rounded-lg">
                                <input type="checkbox" id="ai_email_templates" name="ai_email_templates" class="w-4 h-4 text-indigo-600 bg-gray-100 border-gray-300 rounded focus:ring-indigo-500 dark:focus:ring-indigo-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600">
                                <label for="ai_email_templates" class="text-sm text-gray-700 dark:text-gray-300">Email Templates</label>
                            </div>
                            <div class="flex items-center gap-3 p-3 border border-gray-200 dark:border-gray-700 rounded-lg">
                                <input type="checkbox" id="ai_analytics" name="ai_analytics" class="w-4 h-4 text-indigo-600 bg-gray-100 border-gray-300 rounded focus:ring-indigo-500 dark:focus:ring-indigo-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600">
                                <label for="ai_analytics" class="text-sm text-gray-700 dark:text-gray-300">Smart Analytics</label>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Asset Management Preferences -->
        <div class="bg-white dark:bg-gray-800 rounded-2xl border border-gray-200 dark:border-gray-700 overflow-hidden">
            <div class="border-b border-gray-200 dark:border-gray-700 p-6">
                <h3 class="text-lg font-semibold text-gray-900 dark:text-white">Asset Management</h3>
                <p class="text-gray-600 dark:text-gray-400 text-sm mt-1">Preferences for creating and managing your digital assets</p>
            </div>
            <div class="p-6 space-y-6">
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <div>
                        <label for="default_asset_type" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Default Asset Type</label>
                        <select id="default_asset_type" name="default_asset_type" 
                                class="w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500">
                            <option value="digital-file">Digital Product</option>
                            <option value="video-series">Video Course</option>
                            <option value="subscription">Subscription</option>
                            <option value="ticket">Event & Webinar</option>
                            <option value="newsletter">Newsletter</option>
                        </select>
                    </div>
                    <div>
                        <label for="auto_publish" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Auto-Publish</label>
                        <select id="auto_publish" name="auto_publish" 
                                class="w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500">
                            <option value="manual">Manual Review Required</option>
                            <option value="immediate">Publish Immediately</option>
                            <option value="scheduled">Schedule for Review</option>
                        </select>
                    </div>
                </div>

                <div class="space-y-4">
                    <label class="block text-sm font-medium text-gray-700 dark:text-gray-300">Asset Preferences</label>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        <div class="flex items-center gap-3 p-3 border border-gray-200 dark:border-gray-700 rounded-lg">
                            <input type="checkbox" id="watermark_files" name="watermark_files" class="w-4 h-4 text-indigo-600 bg-gray-100 border-gray-300 rounded focus:ring-indigo-500 dark:focus:ring-indigo-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600">
                            <label for="watermark_files" class="text-sm text-gray-700 dark:text-gray-300">Auto-Watermark Files</label>
                        </div>
                        <div class="flex items-center gap-3 p-3 border border-gray-200 dark:border-gray-700 rounded-lg">
                            <input type="checkbox" id="backup_assets" name="backup_assets" checked class="w-4 h-4 text-indigo-600 bg-gray-100 border-gray-300 rounded focus:ring-indigo-500 dark:focus:ring-indigo-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600">
                            <label for="backup_assets" class="text-sm text-gray-700 dark:text-gray-300">Auto-Backup Assets</label>
                        </div>
                        <div class="flex items-center gap-3 p-3 border border-gray-200 dark:border-gray-700 rounded-lg">
                            <input type="checkbox" id="expiry_reminders" name="expiry_reminders" checked class="w-4 h-4 text-indigo-600 bg-gray-100 border-gray-300 rounded focus:ring-indigo-500 dark:focus:ring-indigo-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600">
                            <label for="expiry_reminders" class="text-sm text-gray-700 dark:text-gray-300">Expiry Reminders</label>
                        </div>
                        <div class="flex items-center gap-3 p-3 border border-gray-200 dark:border-gray-700 rounded-lg">
                            <input type="checkbox" id="auto_categorize" name="auto_categorize" class="w-4 h-4 text-indigo-600 bg-gray-100 border-gray-300 rounded focus:ring-indigo-500 dark:focus:ring-indigo-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600">
                            <label for="auto_categorize" class="text-sm text-gray-700 dark:text-gray-300">Auto-Categorize Assets</label>
                        </div>
                    </div>
                </div>

                <div>
                    <label for="file_size_limit" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Maximum File Size</label>
                    <select id="file_size_limit" name="file_size_limit" 
                            class="w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500">
                        <option value="10">10 MB</option>
                        <option value="25">25 MB</option>
                        <option value="50" selected>50 MB</option>
                        <option value="100">100 MB</option>
                        <option value="250">250 MB</option>
                    </select>
                    <p class="mt-1 text-xs text-gray-500 dark:text-gray-400">Larger files will require external hosting links</p>
                </div>
            </div>
        </div>

        <!-- Action Buttons -->
        <div class="flex flex-col sm:flex-row gap-4 justify-end pt-6">
            <button type="button" class="px-6 py-3 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors font-medium">
                Reset to Defaults
            </button>
            <button type="submit" class="px-8 py-3 bg-indigo-600 hover:bg-indigo-700 text-white font-medium rounded-lg transition-colors shadow-lg">
                Save All Settings
            </button>
        </div>
    </form>
</div>
{% endblock %}

{% block scripts_extra %}
<script>
function settings() {
    return {
        theme: 'system',
        
        init() {
            // Get current theme from localStorage or system preference
            const savedTheme = localStorage.getItem('theme');
            if (savedTheme) {
                this.theme = savedTheme;
            } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
                this.theme = 'dark';
            }
            this.applyTheme(this.theme);
        },
        
        setTheme(theme) {
            this.theme = theme;
            this.applyTheme(theme);
            localStorage.setItem('theme', theme);
        },
        
        applyTheme(theme) {
            if (theme === 'dark' || (theme === 'system' && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
                document.documentElement.classList.add('dark');
            } else {
                document.documentElement.classList.remove('dark');
            }
        }
    }
}
</script>
{% endblock %}